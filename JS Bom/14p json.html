<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        /*
            JSON
                -JS中的对象，只有JS自己认识，其他的语言都不认识
                -JSON就是一个特殊格式的字符串，这个字符串可以被任何的语言识别，并且可以转换为任意语言中的对象
                -JSON在开发中主要用于数据的交互
                -JSON JavaScript Object Notation JS对象表示法
                -JSON和JS对象的格式一样，只不过JSON字符串中的属性名必须要双引号，最外层需要用单引号括起来

            JSON分类
                -1.对象{}
                -2.数组[]

            JSON中允许的值
                -1.字符串
                -2.数字
                -3.布尔值
                -4.null
                -5.对象（普通对象，不能是函数对象）
                -6.数组
        */

        //创建一个JSON对象
        var obj = '{"name":"孙悟空","age":18,"gender":"男"}';
        //创建一个JSON数组
        var arr ='[1,2,3,"hello",true]';
        console.log(typeof obj);
        console.log(typeof arr);


        /*
            将JSON字符串转换为JS中的对象
                在JS中为我们提供了一个工具类，JSON
        */

        var json = '{"name":"孙悟空","age":18,"gender":"男"}';

        /*
            JSON --> JS对象
                JSON.parse()
                    -可以将JSON字符串转换为JS对象
                    -它需要一个JSON字符串作为参数，会将该字符串转换为JS对象
        */
        var o = JSON.parse(json);
        var o2 = JSON.parse(arr);
        console.log(o2[3]);
        console.log(o.age);

        
        /*
            JS对象 --> JSON
                JSON.stringify()
                    -可以将JS对象转换为JSON字符串
                    -需要一个JS对象作为参数，返回一个JSON字符串
        */
        var obj3 = {name:"猪八戒",age:28,gender:"男"};
        var str = JSON.stringify(obj3);
        console.log(typeof str);
        console.log(str);

        /*
            JSON这个对象在IE7及以下的浏览器中不支持，所以这些浏览器调用会报错
        */

        /*
            所以可以使用 eval() 来处理兼容
            eval()
                -这个函数可以用来执行一段字符串形式的JS代码，并将执行结果返回
                -如果使用eval()执行的字符串中含有{}，它会将{}当成代码块，如果不希望将其当成代码块，则需要在字符串前后各加一个{}

            -eval()函数功能很强大，可以直接执行一个字符串中的代码，但是开发中尽量不要使用

            首先功能性较差，还具有安全隐患
        */

        var str2 = '{"name":"孙悟空","age":18,"gender":"男"}';
        /*
            所以处理兼容性问题，可以导入JSON的源代码
        */
    </script>
</head>
<body>
    
</body>
</html>